/*drop table professor;
drop table departamento;*/
create table departamento (
	codigo serial primary key,
	nome varchar(255) not null
);
create table professor(
	codigo serial primary key,
	nome varchar(255) not null,
	codigo_dep integer not null,
	foreign key (codigo_dep) references departamento(codigo)
);
create table disciplina(
	codigo serial primary key,
	nome varchar(255) not null,
	ementa varchar(255) not null,
	num_creditos integer not null,
	codigo_dep integer not null,
	codigo_pro integer not null,
	foreign key (codigo_dep) references departamento(codigo),
	foreign key (codigo_pro) references professor(codigo)
);
create table pre_requisito(
	codigo serial primary key,
	codigo_dis integer not null,
	foreign key (codigo_dis) references disciplina(codigo)
);
create table aluno(
	codigo serial primary key,
	nome varchar(255) not null,
	endereco varchar(255) not null
);
create table telefone_aluno(
	codigo serial primary key,
	numero varchar(255) not null,
	codigo_alu integer not null,
	foreign key (codigo_alu) references aluno(codigo)
);
create table aluno_graduacao(
	codigo serial primary key,
	ano_ingresso integer not null
);
create table aluno_pos_graduacao(
	codigo serial primary key,
	formacao varchar(255) not null,
	codigo_pro integer not null,
	foreign key (codigo_pro) references professor(codigo)
);
create table cursa(
	media float not null,
	ferequencia float not null,
	codigo_dis integer not null,
	codigo_alu integer not null,
	foreign key (codigo_dis) references disciplina(codigo),
	foreign key (codigo_alu) references aluno(codigo)
);

alter table Aluno 
add registroAcademico integer not null;

alter table Aluno
drop column registroAcademico;

insert into Departamento (codigo,nome)
values(2 ,'Computação');

select * from Departamento

insert into Professor (nome, codigo_dep)
values ('Alan dos Santos', 1);

insert into Professor (nome, codigo_dep)
values ('Paula de Souza', 1);

insert into Professor (nome, codigo_dep)
values ('Camila Ferreira', 2);

insert into Professor (nome, codigo_dep)
values ('Sérgio Lima', 1);

select * from Professor


insert into Disciplina (nome, ementa, codigo_dep, codigo_Pro, num_creditos)
values ('Programação I','Variaveis, expressoes, condicionais e laço de repetição',1, 4, 2);

insert into Disciplina (nome, ementa, codigo_dep, codigo_Pro, num_creditos)
values ('Programação II', 'Algoritmos de busca e ordenação', 1, 2, 3);

insert into Disciplina (nome, ementa, codigo_dep, codigo_pro, num_creditos)
values ('Introdução a Administração', 'conceitos iniciais de ADM', 2, 3, 4);

select * from Aluno

insert into Aluno (nome, endereco)
values ('João dos Santos', 'Rua da Lapa, 500');

insert into Aluno (nome, endereco)
values ('Rosane Silva', 'Rua Borba gato, 450');

insert into Aluno (nome, endereco)
values ('Abel Piassa', 'Rua Uruguai, 400');


insert into aluno_Graduacao 
values (1, 2021);

insert into aluno_Graduacao
values(2, 2019);

insert into aluno_pos_graduacao
value(3, 'Ciencia da computação');


update Aluno  set nome = 'Abel'

select * from aluno_graduacao

delete from aluno_graduacao where codigo = 1;

select * from aluno_graduacao 

select count (*) from professor
where codigo = 1;

select * from aluno
where nome like '%b%'

select * from professor
order by nome ;


select distinct codigo_pro
from disciplina
order by codigo_pro;


select * from disciplina
join professor on (codigo_pro = professor.codigo)

select p.nome, d.nome from professor p
join departamento d on (p.codigo_dep = d.codigo);
